<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns:innovasys xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
    <!--DXMETADATA start type="MetaCharset" --><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><!--DXMETADATA end-->
    <meta content="history" name="save" />
    <meta name="GENERATOR" content="Innovasys HelpStudio (http://www.innovasys.com)" />
    <!--DXMETADATA start type="ItemTitle" format="<title>%%ItemTitle%%</title>" --><title>Vault Status Icons</title><!--DXMETADATA end-->
    <link rel="stylesheet" type="text/css" href="stylesheets/helpstudio.css" />
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/community.css"">" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="Literal" condition="helpversion:value=2" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/help2.css"">" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Stylesheets" --><link rel="stylesheet" type="text/css" href="stylesheets/hs-boxes.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-simpletab.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-heading-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-tabstrip.css"></link><!--DXMETADATA end-->
    <script src="script/helpstudio.js" type="text/javascript"></script>
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<script src=""script/community.js""></script>" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Scripts" --><script src="script/hs-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-enlargeimage.js" type="text/javascript"></script>
    <script src="script/swfobject.js" type="text/javascript"></script>
    <script src="script/hs-common.js" type="text/javascript"></script>
    <script src="script/hs-heading-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-tabstrip.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="Variable" name="BannerColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {background-color: %%Variable%%}</style>" blankformat="" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Variable" name="BannerTextColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {color: %%Variable:Name=BannerTextColor%%}</style>" blankformat="" --><!--DXMETADATA end -->
	<!--DXMETADATA start type="Variable" name="TopicXMLIsland" condition="helpversion:value=2" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="DesignTime" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CanonicalLink" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CustomHeadContent" --><!--DXMETADATA end-->
</head>
<body id="hsbody">
	<!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_PROPERTIES" --><!--DXMETADATA end -->
    <div style="display: none">
        <input type="hidden" id="userDataCache" class="userDataStyle" name="userDataCache" />
        <input type="hidden" id="hiddenScrollOffset" name="hiddenScrollOffset" />
    </div>
    <img id="collapseImage" style="display:none; height:0; width:0;" src="images/collapse.gif">
    <img id="expandImage" style="display:none; height:0; width:0;" src="images/expand.gif"/>
    <img id="copyImage" style="display:none; height:0; width:0;" src="images/copycode.gif"/>
    <img id="copyHoverImage" style="display:none; height:0; width:0;" src="images/copycodeHighlight.gif">
    <img id="dropDownImage" style="display:none; height:0; width:0;" src="images/drpdown.gif"/>
    <img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="images/drpdown_orange.gif"/>
    <div id="pagetop">
        <!--DXMETADATA start type="DesignBanner" --><!--DXMETADATA end -->
        <table width="100%" id="pagetoptable2" cellspacing="0" cellpadding="0">
        	<tr>
        		<td><!--DXMETADATA start type="Literal" condition="communityenabled" value="%%scrap:name=_COMMUNITY_RATING%%%%scrap:name=_COMMUNITY_DROPDOWN%%" --><!--DXMETADATA end --></td>
        	</tr>
        </table>
        <table width="100%" id="pagetoptable1">
            <tr id="pagetoptable1row1">
                <td align="left">
                    <span id="projecttitle">
                        <!--DXMETADATA start type="ProjectTitle" -->Vault SDK<!--DXMETADATA end-->
                    </span>
                </td>
                <td align="right" rowspan="2">
                    <!--DXMETADATA start type="LogoImage" --><!--DXMETADATA end-->
                </td>
            </tr>
            <tr id="pagetoptable1row2">
                <td align="left">
                    <span id="pagetitle">
                        <!--DXMETADATA start type="ItemTitle" -->Vault Status Icons<!--DXMETADATA end-->
                    </span>
                </td>
            </tr>
            <tr id="pagetoptable1row3">
            	<td colspan="2">
            		<!--DXMETADATA start type="Literal" condition="childitems:itemtype=linkcategory" value="<a href=""#seealsobookmark"">%%Phrase:Name=SeeAlso,BlankFormat=See Also%%</a>" --><!--DXMETADATA end -->
            		<span id="feedbacklink"><!--DXMETADATA start type="Variable" name="FeedbackLink" format="" --><a href="http://forums.autodesk.com/t5/vault-customization/bd-p/301 " rel="noopener noreferrer" target="_blank">Send Feedback</a><!--DXMETADATA end --></span>
            	</td>
            </tr>
        </table>
        <!--DXMETADATA start type="Breadcrumbs" scrap="_BREADCRUMBS" --><table width="100%" id="pagetopbreadcrumbs" cellspacing="0" cellpadding="0"><tr><td>
<a href="topic46.html">Knowledge Base</a>
 > Vault Status Icons</td></tr></table><!--DXMETADATA end -->
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_MENU" --><!--DXMETADATA end -->
    </div>
    <div class="hspopupbubble" id="hsglossaryitembox">
        <p>Glossary Item Box</p>
    </div>
    <div id="pagebody">
        <div id="mainbody">
<!--DXMETADATA start type="TopicSection" name="BodyText"--><p>by Doug Redmond, It's All Just Ones and Zeros<br />
08/23/2013</p>

<p>If you have played around with the new Grid Control, you may have noticed that there is a column for the status icon. It’s a highly useful piece of information that is difficult to calculate. The good news is that you can leverage the API to give you this data, either in icon form or object form.</p>

<p><img border="0" alt="" src="StatusIcons.png" /></p>
<hr />

<p><strong>Client side properties:</strong></p>

<p>The status icon is an example of a client-side property. It’s not something the server can do because it requires data from your hard-drive. There are many factors that go into the status image, including comparing the state of the local file with the state of the corresponding file in Vault. So, if you are looking for an easy way for your app to see what files are out of date, the status property gives that to you easily.</p>

<p>You can’t search on client-side properties, since the server controls the search feature. You also can’t use any of the web service functions because those functions only deal with server-side data. You need to use VDF libraries (Autodesk.DataManagement.*) in order to work with client-side properties.</p>
<hr />

<p><strong>Getting the icon:</strong></p>

<p>If you are displaying the grid, the control itself will take care of displaying the icon. But if you want to use the icon in your own UI, there is a way to get it. It’s probably easiest to start with the code and then explain what the code is doing.</p>

<table cellspacing="0" cellpadding="2" width="470" border="1">
    <tbody>
        <tr>
            <td valign="top" width="470">
                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(0,0,255)"><span style="FONT-SIZE: 9pt">using</span></span></span><span><span style="FONT-SIZE: 9pt; COLOR: rgb(0,0,0)"><span class="Apple-converted-space">&nbsp;</span>VDF = Autodesk.DataManagement.Client.Framework;</span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(0,0,255)"><span style="FONT-SIZE: 9pt">using</span></span></span><span><span style="FONT-SIZE: 9pt; COLOR: rgb(0,0,0)">Autodesk.DataManagement.Client.Framework.Vault.Currency.Properties;</span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal">&nbsp;</p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal">&nbsp;</p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal">&nbsp;</p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(43,145,175)"><span style="FONT-SIZE: 9pt">PropertyDefinitionDictionary</span></span></span><span><span style="FONT-SIZE: 9pt; COLOR: rgb(0,0,0)"><span class="Apple-converted-space">&nbsp;</span>props =</span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span><span style="FONT-FAMILY: Consolas"><span style="COLOR: rgb(0,0,0)"><span><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></span><span style="FONT-SIZE: 9pt">m_conn.PropertyManager.GetPropertyDefinitions(</span><span>&nbsp;</span></span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span><span style="COLOR: rgb(163,21,21)"><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></span></span></span><span><span style="FONT-SIZE: 9pt"><span style="COLOR: rgb(0,0,0)">VDF.Vault.Currency.Entities.</span><span><span style="COLOR: rgb(43,145,175)">EntityClassIds</span></span><span style="COLOR: rgb(0,0,0)">.Files,</span></span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(0,0,0)"><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></span></span><span style="FONT-SIZE: 9pt"><span><span style="COLOR: rgb(0,0,255)">Null</span></span><span style="COLOR: rgb(0,0,0)">,<span class="Apple-converted-space">&nbsp;</span></span><span><span style="COLOR: rgb(43,145,175)">PropertyDefinitionFilter</span></span><span style="COLOR: rgb(0,0,0)">.IncludeAll);</span></span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(43,145,175)"><span style="FONT-SIZE: 9pt">PropertyDefinition</span></span></span><span><span style="FONT-SIZE: 9pt; COLOR: rgb(0,0,0)"><span class="Apple-converted-space">&nbsp;</span>statusProp =</span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span><span style="FONT-FAMILY: Consolas"><span style="COLOR: rgb(0,0,0)"><span><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></span><span style="FONT-SIZE: 9pt">props[</span></span><span style="FONT-SIZE: 9pt"><span><span style="COLOR: rgb(43,145,175)">PropertyDefinitionIds</span></span><span style="COLOR: rgb(0,0,0)">.</span><span><span style="COLOR: rgb(43,145,175)">Client</span></span><span style="COLOR: rgb(0,0,0)">.VaultStatus];</span></span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal">&nbsp;</p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span style="FONT-FAMILY: Consolas"><span><span style="COLOR: rgb(43,145,175)"><span style="FONT-SIZE: 9pt">EntityStatusImageInfo</span></span></span><span><span style="FONT-SIZE: 9pt; COLOR: rgb(0,0,0)"><span class="Apple-converted-space">&nbsp;</span>status =</span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span><span style="FONT-FAMILY: Consolas"><span style="COLOR: rgb(0,0,0)"><span><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp;<span class="Apple-converted-space">&nbsp;</span></span></span><span style="FONT-SIZE: 9pt">m_conn.PropertyManager.GetPropertyValue(fileIter,</span></span></span></span></p>

                <p class="MsoNormal" style="TEXT-ALIGN: left; MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"><span><span style="FONT-FAMILY: Consolas"><span style="COLOR: rgb(0,0,0)"><span style="FONT-SIZE: 9pt">&nbsp;&nbsp;&nbsp; statusProp,<span class="Apple-converted-space">&nbsp;</span></span></span><span style="FONT-SIZE: 9pt"><span><span style="COLOR: rgb(0,0,255)">null</span></span><span style="COLOR: rgb(0,0,0)">)<span class="Apple-converted-space">&nbsp;</span></span><span><span style="COLOR: rgb(0,0,255)">as</span></span><span style="COLOR: rgb(0,0,0)"><span class="Apple-converted-space">&nbsp;</span></span></span></span></span><span><span style="FONT-FAMILY: Consolas"><span style="FONT-SIZE: 9pt"><span><span style="COLOR: rgb(43,145,175)">EntityStatusImageInfo</span></span><span style="COLOR: rgb(0,0,0)">;</span></span></span></span></p>
            </td>
        </tr>
    </tbody>
</table>

<p>Step one is to get the VDF PropertyDefintion for the status information. This is done by first calling Connection.PropertyManager.GetPropertyDefinitions and grabbing all file-related PropertyDefinitions. This is a VDF function, so&nbsp;it returns&nbsp;both client and server property definitions. The return object is indexed by ID and system name. So, it’s easy to look up a property if&nbsp;the system name is known. In the case of Vault status, the ID is defined in PropertyDefinitionsIds.</p>

<p>The last step is to call GetPropertyValue for on for the FileIteration object. The function returns an Object, which can be converted to EntityStatusImageInfo.</p>
<hr />

<p><strong>EntityStatusImageInfo</strong></p>

<p>This is a very useful class. Not only does it give you the Image object itself, but it gives you a data structure describing the status. So you can, for example, write special logic for cases where the local file version doesn’t match any vault version (ie. edited out of turn).</p>

<p>You can call GetImage to get an Image object that you can display in your UI. The algorithm for calculating that image is surprisingly complex, so it’s good do have a function that does the calculation for you. Because this is the same code used by the clients, your icon will match the icon seen in Vault Explorer and the CAD plug-ins.</p>

<p></p><!--DXMETADATA end-->
            <a name="seealsobookmark"></a>
            <!--DXMETADATA start type="FilteredItemList" scrap="CATEGORISED_LINKS" namespace="linkcategory" source="Item" filter="" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=seealso,caption=""%%phrase:name=SeeAlso%%%%designlist:tagidentifier=seealso,itemtype=See Also%%""%%%%filtereditemlist%%</div>"--><!--DXMETADATA end-->
        </div>
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_FOOTER" --><!--DXMETADATA end -->
        <div id="pagefooter">
            <!--DXMETADATA start type="Variable" name="CopyrightNotice" format="<p>&nbsp;</p><p>&nbsp;</p><hr style=""height: 1px"" /><p>%%variable%%</p>" --><!--DXMETADATA end -->
        </div>
        <!--DXMETADATA start type="FeedbackSection" --><!--DXMETADATA end -->
    </div>
    <!--DXMETADATA start type="Variable" name="NonScrollingPageFooter" format="<div id=nonscrollingpagefooter>%%variable%%</div>" --><div id=nonscrollingpagefooter>&copy;2025. All Rights Reserved.</div><!--DXMETADATA end -->
</body>
</html>