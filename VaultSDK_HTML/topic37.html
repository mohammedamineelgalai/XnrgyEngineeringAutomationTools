<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns:innovasys xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
    <!--DXMETADATA start type="MetaCharset" --><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><!--DXMETADATA end-->
    <meta content="history" name="save" />
    <meta name="GENERATOR" content="Innovasys HelpStudio (http://www.innovasys.com)" />
    <!--DXMETADATA start type="ItemTitle" format="<title>%%ItemTitle%%</title>" --><title>Security</title><!--DXMETADATA end-->
    <link rel="stylesheet" type="text/css" href="stylesheets/helpstudio.css" />
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/community.css"">" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="Literal" condition="helpversion:value=2" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/help2.css"">" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Stylesheets" --><link rel="stylesheet" type="text/css" href="stylesheets/hs-boxes.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-simpletab.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-heading-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-tabstrip.css"></link><!--DXMETADATA end-->
    <script src="script/helpstudio.js" type="text/javascript"></script>
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<script src=""script/community.js""></script>" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Scripts" --><script src="script/hs-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-enlargeimage.js" type="text/javascript"></script>
    <script src="script/swfobject.js" type="text/javascript"></script>
    <script src="script/hs-common.js" type="text/javascript"></script>
    <script src="script/hs-heading-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-tabstrip.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="Variable" name="BannerColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {background-color: %%Variable%%}</style>" blankformat="" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Variable" name="BannerTextColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {color: %%Variable:Name=BannerTextColor%%}</style>" blankformat="" --><!--DXMETADATA end -->
	<!--DXMETADATA start type="Variable" name="TopicXMLIsland" condition="helpversion:value=2" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="DesignTime" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CanonicalLink" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CustomHeadContent" --><!--DXMETADATA end-->
</head>
<body id="hsbody">
	<!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_PROPERTIES" --><!--DXMETADATA end -->
    <div style="display: none">
        <input type="hidden" id="userDataCache" class="userDataStyle" name="userDataCache" />
        <input type="hidden" id="hiddenScrollOffset" name="hiddenScrollOffset" />
    </div>
    <img id="collapseImage" style="display:none; height:0; width:0;" src="images/collapse.gif">
    <img id="expandImage" style="display:none; height:0; width:0;" src="images/expand.gif"/>
    <img id="copyImage" style="display:none; height:0; width:0;" src="images/copycode.gif"/>
    <img id="copyHoverImage" style="display:none; height:0; width:0;" src="images/copycodeHighlight.gif">
    <img id="dropDownImage" style="display:none; height:0; width:0;" src="images/drpdown.gif"/>
    <img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="images/drpdown_orange.gif"/>
    <div id="pagetop">
        <!--DXMETADATA start type="DesignBanner" --><!--DXMETADATA end -->
        <table width="100%" id="pagetoptable2" cellspacing="0" cellpadding="0">
        	<tr>
        		<td><!--DXMETADATA start type="Literal" condition="communityenabled" value="%%scrap:name=_COMMUNITY_RATING%%%%scrap:name=_COMMUNITY_DROPDOWN%%" --><!--DXMETADATA end --></td>
        	</tr>
        </table>
        <table width="100%" id="pagetoptable1">
            <tr id="pagetoptable1row1">
                <td align="left">
                    <span id="projecttitle">
                        <!--DXMETADATA start type="ProjectTitle" -->Vault SDK<!--DXMETADATA end-->
                    </span>
                </td>
                <td align="right" rowspan="2">
                    <!--DXMETADATA start type="LogoImage" --><!--DXMETADATA end-->
                </td>
            </tr>
            <tr id="pagetoptable1row2">
                <td align="left">
                    <span id="pagetitle">
                        <!--DXMETADATA start type="ItemTitle" -->Security<!--DXMETADATA end-->
                    </span>
                </td>
            </tr>
            <tr id="pagetoptable1row3">
            	<td colspan="2">
            		<!--DXMETADATA start type="Literal" condition="childitems:itemtype=linkcategory" value="<a href=""#seealsobookmark"">%%Phrase:Name=SeeAlso,BlankFormat=See Also%%</a>" --><!--DXMETADATA end -->
            		<span id="feedbacklink"><!--DXMETADATA start type="Variable" name="FeedbackLink" format="" --><a href="http://forums.autodesk.com/t5/vault-customization/bd-p/301 " rel="noopener noreferrer" target="_blank">Send Feedback</a><!--DXMETADATA end --></span>
            	</td>
            </tr>
        </table>
        <!--DXMETADATA start type="Breadcrumbs" scrap="_BREADCRUMBS" --><table width="100%" id="pagetopbreadcrumbs" cellspacing="0" cellpadding="0"><tr><td>
<a href="topic46.html">Knowledge Base</a>
 > Security</td></tr></table><!--DXMETADATA end -->
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_MENU" --><!--DXMETADATA end -->
    </div>
    <div class="hspopupbubble" id="hsglossaryitembox">
        <p>Glossary Item Box</p>
    </div>
    <div id="pagebody">
        <div id="mainbody">
<!--DXMETADATA start type="TopicSection" name="BodyText"--><div class="mainpage">
    <p>by Doug Redmond, It's All Just Ones and Zeros<br />
    10/26/2009</p>

    <p>Vault uses two different security mechanisms.&nbsp; There is a system based on <b>user permissions</b> and one based on <b>access control lists</b> (ACL).&nbsp; The permissions-based security is part of the base Vault functionality, but the ACL based security is an optional feature which may or may not be available depending on the version of Vault.</p>

    <p>Both security systems operate differently.&nbsp; They are conceptually different, they have different API's, and were designed to solve different problems.&nbsp; There are even cases where the two mechanisms contradict each other.</p>

    <p><strong><font size="4">Permission-Based Security</font></strong></p>

    <p>Each user has a set of <strong>roles</strong> and each role has a set of <strong>permissions</strong>.&nbsp; These permissions determine what the user can do.&nbsp; Also, these permissions apply globally to everything in the Vault.&nbsp; For example, a user has the “File Read” permission, then they can read any file in the Vault.<br />
    <img style="HEIGHT: 400px; WIDTH: 315px" alt="" src="security-Permissions.png" /></p>

    <p>If a user has multiple roles, then its permission set is the union of those role permissions.&nbsp; So a user has the “File Read” permission as long as it is in at least 1 role that has that permission.&nbsp; The same thing applies to groups.&nbsp; Groups can have roles associated with them.&nbsp; These roles trickle down to the users.&nbsp; For example, a user can have no permissions of it's own, but if it's part of the Administrators group, that user has administrative permissions.&nbsp; Being part of a group will never take away permissions from a user;&nbsp; the user can only gain extra permissions when being part of a group.&nbsp; In other words, an <strong>inclusive</strong> model is used.</p>

    <p><strong><font size="4">ACL-Based Security</font></strong></p>

    <p>An ACL is a list of who is allowed and denied access to a given object.&nbsp; Each ACL contains a list of Access Control Entries (ACE).&nbsp; Each ACE contains a single User or Group and the list of permissions that they have.&nbsp; Vault currently has 3 types of permissions:&nbsp; <strong>Read</strong>, <strong>Write</strong> and <strong>Delete</strong>.&nbsp; An ACE does not need to contain all 3 permissions.&nbsp; For example, it can just set Read to ALLOW (true) and not specify the Write or Delete permissions.&nbsp;&nbsp;<br />
    &nbsp;<img style="HEIGHT: 445px; WIDTH: 367px" alt="" src="security-FolderACL.png" /></p>

    <p>ACLs use an <b>exclusive</b> model.&nbsp; If a user has access but is in a group with restricted access, then the user will also have restricted access.&nbsp; This is directly opposite from the permissions-based system.</p>Here is the algorithm for determining if an ACL allows user access:<br />

    <table cellspacing="0" cellpadding="2" width="450" border="2">
        <tbody>
            <tr>
                <td bgcolor="#FFFFCC" valign="top" width="450">A user is given access if and only if their user or parent group has an ALLOW bit and no DENY bits.</td>
            </tr>
        </tbody>
    </table>

    <p>The ACL model adds restrictions above and beyond the User Permission model.&nbsp; However ,the ACL model does not replace the other model.&nbsp; In order to read a file, the user still needs the File Read user permission in addition to an ALLOW read ACL permission.&nbsp;</p>

    <p><strong><font size="4">Flowchart</font></strong></p>

    <p>Let’s put everything together in flowchart form:</p>

    <p><img style="HEIGHT: 536px; WIDTH: 388px" alt="" src="security-Flowchart.png" /></p>

    <p>Keep in mind this process gets run for each permission.&nbsp; So it’s possible for read to evaluate to “Access Allowed” while write evaluates to “Access Denied”.<br />
    <br /></p>
    <hr style="HEIGHT: 2px; WIDTH: 100%" />

    <p><br /></p>

    <p><strong>Folder ACLs</strong></p>

    <p>A folder can have an ACL on it.&nbsp; That ACL will not only apply to the folder itself, but it also applies to any files in that folder.&nbsp; If a sub-folder is created, it will inherit the ACL from the parent folder, but this can be changed later on.&nbsp; When you change the ACL on a folder it immediately applies to the files in that folder.&nbsp; There are also some options for propagating the changes to sub-folders.</p>

    <p><img style="HEIGHT: 438px; WIDTH: 367px" alt="" src="folderSecurity.png" /><br />
    <img style="HEIGHT: 233px; WIDTH: 417px" alt="" src="folderSecurity2.png" />&nbsp;</p>

    <p><strong>System ACLs</strong></p>

    <p>A file can have 2 ACLs on it.&nbsp; One comes from its parent Folder and the other one is something called a System ACL.&nbsp; If present, the System ACL overrides the Folder's ACL.&nbsp; The 2 ACLs are not merged in any way.&nbsp; The System ACL completely wins out.&nbsp; So you may find cases where the folder says that the user has read only access, but they can edit certain files in the folder.</p>

    <p>There are various ways to set the System ACL:</p>

    <ul>
        <li>If the Vault is not set up to use Item security, then the file's lifecycle state dictates the System ACL.<br />
        <img style="HEIGHT: 378px; WIDTH: 425px" alt="" src="fileLifecycle-scaled.png" /></li>

        <li>If the Vault is set up to use Item security, then the item's security settings dictate the System ACL.&nbsp; This is only for cases where the file is linked to an Item and the Item is in the Released state.<br />
        <img style="HEIGHT: 418px; WIDTH: 304px" alt="" src="itemLifecycle.png" /></li>

        <li>The file's System ACL can be set explicitly in the Properties dialog under the file menu (not to be confused with the Properties grid).&nbsp; Setting the System ACL in this manner will overwrite any file or item lifecycle security settings.&nbsp; At the API level, you use SecurityService.SetSystemACLs().<br />
        <img style="HEIGHT: 390px; WIDTH: 322px" alt="" src="fileProperties.png" /></li>
    </ul>

    <p>Regardless of how the System ACL is set, you can read it using SecurityService.GetEntACLsByEntityIds().&nbsp; Even nicer is that the function returns both the regular ACL (the one from the folder security) and System ACL.</p>
</div>

<p></p><!--DXMETADATA end-->
            <a name="seealsobookmark"></a>
            <!--DXMETADATA start type="FilteredItemList" scrap="CATEGORISED_LINKS" namespace="linkcategory" source="Item" filter="" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=seealso,caption=""%%phrase:name=SeeAlso%%%%designlist:tagidentifier=seealso,itemtype=See Also%%""%%%%filtereditemlist%%</div>"--><!--DXMETADATA end-->
        </div>
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_FOOTER" --><!--DXMETADATA end -->
        <div id="pagefooter">
            <!--DXMETADATA start type="Variable" name="CopyrightNotice" format="<p>&nbsp;</p><p>&nbsp;</p><hr style=""height: 1px"" /><p>%%variable%%</p>" --><!--DXMETADATA end -->
        </div>
        <!--DXMETADATA start type="FeedbackSection" --><!--DXMETADATA end -->
    </div>
    <!--DXMETADATA start type="Variable" name="NonScrollingPageFooter" format="<div id=nonscrollingpagefooter>%%variable%%</div>" --><div id=nonscrollingpagefooter>&copy;2025. All Rights Reserved.</div><!--DXMETADATA end -->
</body>
</html>