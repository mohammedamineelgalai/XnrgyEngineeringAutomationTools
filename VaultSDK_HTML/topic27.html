<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html xmlns:innovasys xmlns:MSHelp="http://msdn.microsoft.com/mshelp">
<head>
    <!--DXMETADATA start type="MetaCharset" --><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><!--DXMETADATA end-->
    <meta content="history" name="save" />
    <meta name="GENERATOR" content="Innovasys HelpStudio (http://www.innovasys.com)" />
    <!--DXMETADATA start type="ItemTitle" format="<title>%%ItemTitle%%</title>" --><title>File Resolution</title><!--DXMETADATA end-->
    <link rel="stylesheet" type="text/css" href="stylesheets/helpstudio.css" />
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/community.css"">" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="Literal" condition="helpversion:value=2" value="<link rel=""stylesheet"" type=""text/css"" href=""stylesheets/help2.css"">" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Stylesheets" --><link rel="stylesheet" type="text/css" href="stylesheets/hs-boxes.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-simpletab.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-heading-expandcollapse.css"></link>
    <link rel="stylesheet" type="text/css" href="stylesheets/hs-tabstrip.css"></link><!--DXMETADATA end-->
    <script src="script/helpstudio.js" type="text/javascript"></script>
    <!--DXMETADATA start type="Literal" condition="communityenabled" value="<script src=""script/community.js""></script>" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Scripts" --><script src="script/hs-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-enlargeimage.js" type="text/javascript"></script>
    <script src="script/swfobject.js" type="text/javascript"></script>
    <script src="script/hs-common.js" type="text/javascript"></script>
    <script src="script/hs-heading-expandcollapse.js" type="text/javascript"></script>
    <script src="script/hs-tabstrip.js" type="text/javascript"></script><!--DXMETADATA end-->
    <!--DXMETADATA start type="Variable" name="BannerColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {background-color: %%Variable%%}</style>" blankformat="" --><!--DXMETADATA end -->
    <!--DXMETADATA start type="Variable" name="BannerTextColor" format="<style type=text/css>div#pagetop, div#pagetop table td, span#projecttitle, span#pagetitle {color: %%Variable:Name=BannerTextColor%%}</style>" blankformat="" --><!--DXMETADATA end -->
	<!--DXMETADATA start type="Variable" name="TopicXMLIsland" condition="helpversion:value=2" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="DesignTime" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CanonicalLink" --><!--DXMETADATA end-->
    <!--DXMETADATA start type="CustomHeadContent" --><!--DXMETADATA end-->
</head>
<body id="hsbody">
	<!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_PROPERTIES" --><!--DXMETADATA end -->
    <div style="display: none">
        <input type="hidden" id="userDataCache" class="userDataStyle" name="userDataCache" />
        <input type="hidden" id="hiddenScrollOffset" name="hiddenScrollOffset" />
    </div>
    <img id="collapseImage" style="display:none; height:0; width:0;" src="images/collapse.gif">
    <img id="expandImage" style="display:none; height:0; width:0;" src="images/expand.gif"/>
    <img id="copyImage" style="display:none; height:0; width:0;" src="images/copycode.gif"/>
    <img id="copyHoverImage" style="display:none; height:0; width:0;" src="images/copycodeHighlight.gif">
    <img id="dropDownImage" style="display:none; height:0; width:0;" src="images/drpdown.gif"/>
    <img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="images/drpdown_orange.gif"/>
    <div id="pagetop">
        <!--DXMETADATA start type="DesignBanner" --><!--DXMETADATA end -->
        <table width="100%" id="pagetoptable2" cellspacing="0" cellpadding="0">
        	<tr>
        		<td><!--DXMETADATA start type="Literal" condition="communityenabled" value="%%scrap:name=_COMMUNITY_RATING%%%%scrap:name=_COMMUNITY_DROPDOWN%%" --><!--DXMETADATA end --></td>
        	</tr>
        </table>
        <table width="100%" id="pagetoptable1">
            <tr id="pagetoptable1row1">
                <td align="left">
                    <span id="projecttitle">
                        <!--DXMETADATA start type="ProjectTitle" -->Vault SDK<!--DXMETADATA end-->
                    </span>
                </td>
                <td align="right" rowspan="2">
                    <!--DXMETADATA start type="LogoImage" --><!--DXMETADATA end-->
                </td>
            </tr>
            <tr id="pagetoptable1row2">
                <td align="left">
                    <span id="pagetitle">
                        <!--DXMETADATA start type="ItemTitle" -->File Resolution<!--DXMETADATA end-->
                    </span>
                </td>
            </tr>
            <tr id="pagetoptable1row3">
            	<td colspan="2">
            		<!--DXMETADATA start type="Literal" condition="childitems:itemtype=linkcategory" value="<a href=""#seealsobookmark"">%%Phrase:Name=SeeAlso,BlankFormat=See Also%%</a>" --><!--DXMETADATA end -->
            		<span id="feedbacklink"><!--DXMETADATA start type="Variable" name="FeedbackLink" format="" --><a href="http://forums.autodesk.com/t5/vault-customization/bd-p/301 " rel="noopener noreferrer" target="_blank">Send Feedback</a><!--DXMETADATA end --></span>
            	</td>
            </tr>
        </table>
        <!--DXMETADATA start type="Breadcrumbs" scrap="_BREADCRUMBS" --><table width="100%" id="pagetopbreadcrumbs" cellspacing="0" cellpadding="0"><tr><td>
<a href="topic46.html">Knowledge Base</a>
 > File Resolution</td></tr></table><!--DXMETADATA end -->
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_MENU" --><!--DXMETADATA end -->
    </div>
    <div class="hspopupbubble" id="hsglossaryitembox">
        <p>Glossary Item Box</p>
    </div>
    <div id="pagebody">
        <div id="mainbody">
<!--DXMETADATA start type="TopicSection" name="BodyText"--><p>by Doug Redmond, It's All Just Ones and Zeros<br />
05/12/2011</p>

<p>At its simplest, the <strong>File Resolution</strong> feature is about fixing up broken file references if a file is moved or renamed. To enable this feature, file associations contain meta-data.&nbsp; This meta-data is used to A) detect when a reference is broken and B) provide information necessary to fix the reference.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">This file association meta-data can be seen when examining&nbsp;<a href="Autodesk.Connectivity.WebServices~Autodesk.Connectivity.WebServices.DocumentService~AddFile.html">AddFile</a> and <a href="Autodesk.Connectivity.WebServices~Autodesk.Connectivity.WebServices.DocumentService~CheckinFile.html">CheckinFile</a> methods of the <a href="topic2126.html">DocumentService</a>.&nbsp; The parameter of interest is the <a href="topic2968.html">FileAssocParam</a>[] named associations.&nbsp;</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">The association parameter is an array of <a href="topic2968.html">FileAssocParam</a> objects.&nbsp; The <a href="topic2968.html">FileAssocParam</a> class contains the child file ID, the source meta data, the association type (attachment or dependency), the<span class="Apple-converted-space">&nbsp;</span>RefId,<span class="Apple-converted-space">&nbsp;</span>and the<span class="Apple-converted-space">&nbsp;</span>ExpectedVaultPath<span class="Apple-converted-space">&nbsp;</span>properties.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">The child file ID (CldFileId) is pretty self-explanatory. This is the Id of the file that is going to be associated as a child of whatever file you are adding or checking in.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">Source specifies which application is responsible or 'owns' the associate. This is used to help identify which resolver needs to be run when correcting broken associations. When adding or checking in a file, it is recommended to set this value the previous value or null if there is no previous value.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">The Typ property specifies what kind of association the child file has to the parent file as described by the <a href="topic613.html">AssociationType</a> enum. If the parent file does not require the child file to open properly, the type of the association should be an attachment. Common examples of this type of association is anything that is strictly additional information for the related to the parent. If the parent file requires the child file, such as an assembly using an inventor part file, then the Typ should be set to AssociationType.Dependency.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">RefId is meta-data indicating how to locate the reference within the parent file.&nbsp; This data is file-type specific and is not something you want to set yourself.&nbsp; The CAD plug-in will set this up when files are added in.&nbsp; If you are doing an update, you need to re-specify the associations at check in, so just pass in the RefIds from the associations on the previous version.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">ExpectedVaultPath is the vault location of the child file.&nbsp; This piece is used to detect when moves or renames happen.&nbsp; The word<span class="Apple-converted-space">&nbsp;</span><em>expected</em><span class="Apple-converted-space">&nbsp;</span>is there because you can never be 100% sure of that location.&nbsp; Because Vault is a multi-user environment, it's possible that someone else renamed that child right before you do your check-in.&nbsp; The system is architected so that you don't need to know the exact path at the moment of check-in.&nbsp; You just need to know the path that the parent is <em>expecting</em><span class="Apple-converted-space">&nbsp;</span>the child to be in.&nbsp; The File Resolve framework will do the rest.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">If you are reading file associations on an existing file, there some new parameters on <a href="topic2931.html">FileAssoc</a>.&nbsp; The ExpectedVaultPath shows up here.&nbsp; There is also a new property called VaultPathChanged.&nbsp; This property is a boolean that indicates that broken reference has been found.&nbsp; If the current Vault path is not equal to the expected Vault path for either the parent or the child, the value will be TRUE.&nbsp;</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">When broken references are detected, components called Resolvers are in charge of fixing up the references.&nbsp; Resolvers run<span class="Apple-converted-space">&nbsp;</span><strong>client-side</strong><span class="Apple-converted-space">&nbsp;</span>and are file-type specific.&nbsp; Currently we only have resolvers for AutoCAD, Inventor and Navisworks files.&nbsp; All other files cannot participate in the file resolution feature.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">A Resolver is not something you should be dealing with directly. The utility Autodesk.Connectivity.Explorer.ExtensibilityTools.<a href="topic295.html">IExplorerUtil</a> contains <a href="Autodesk.Connectivity.Explorer.ExtensibilityTools~Autodesk.Connectivity.Explorer.ExtensibilityTools.IExplorerUtil~DownloadFile.html">DownloadFile()</a> functions that will do the download and run the Resolver.&nbsp; However, the older function Autodesk.Connectivity.WebServices.DocumentService.<a href="Autodesk.Connectivity.WebServices~Autodesk.Connectivity.WebServices.DocumentService~DownloadFile.html">DownloadFile()</a> will<span class="Apple-converted-space">&nbsp;</span><strong>not</strong><span class="Apple-converted-space">&nbsp;</span>run the resolver.&nbsp; The reason is that the WebServices DLL is about server communication, not client-side operations.&nbsp;</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">If you used checksum in the past to locate files, that's no longer a good mechanism.&nbsp; Because the files are modified client-side, the checksum will no longer match the Vault checksum.&nbsp; So you need to use things like filename, path, and last modified date to match between local and Vault files.</p>

<p style="MARGIN-BOTTOM: 10px; MARGIN-TOP: 10px; TEXT-ALIGN: left">The File Resolution feature is a difficult one to consume from an API standpoint, but the end user experience is a very positive one.&nbsp; In earlier versions of vault it was very difficult for a user to move and rename files, especially if a file was used in many places.&nbsp; Under the new model, files can be easily and quickly moved and renamed.</p><!--DXMETADATA end-->
            <a name="seealsobookmark"></a>
            <!--DXMETADATA start type="FilteredItemList" scrap="CATEGORISED_LINKS" namespace="linkcategory" source="Item" filter="" NoHeader="True" NoFooter="True" format="%%replaceinquotes:value=false%%%%scrap:name=_COLLAPSIBLE_HEADER,idprefix=seealso,caption=""%%phrase:name=SeeAlso%%%%designlist:tagidentifier=seealso,itemtype=See Also%%""%%%%filtereditemlist%%</div>"--><!--DXMETADATA end-->
        </div>
        <!--DXMETADATA start type="Scrap" condition="communityenabled" name="_COMMUNITY_FOOTER" --><!--DXMETADATA end -->
        <div id="pagefooter">
            <!--DXMETADATA start type="Variable" name="CopyrightNotice" format="<p>&nbsp;</p><p>&nbsp;</p><hr style=""height: 1px"" /><p>%%variable%%</p>" --><!--DXMETADATA end -->
        </div>
        <!--DXMETADATA start type="FeedbackSection" --><!--DXMETADATA end -->
    </div>
    <!--DXMETADATA start type="Variable" name="NonScrollingPageFooter" format="<div id=nonscrollingpagefooter>%%variable%%</div>" --><div id=nonscrollingpagefooter>&copy;2025. All Rights Reserved.</div><!--DXMETADATA end -->
</body>
</html>